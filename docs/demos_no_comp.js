(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[5],{fbdb:function(e,t,n){e.exports={MyModal:"MyModal___3qKMi",Open:"Open___tPlz6",Close:"Close___1ouio",Title:"Title___2kfrY",CloseBtn:"CloseBtn___ZxgEM",Content:"Content___2pC8k"}},hK5f:function(e,t,n){"use strict";n.r(t);var a=n("q1tI"),l=n.n(a),i=n("tJVT"),c=n("iuhU"),u=n("k1fw"),r=n("zdPv"),o=n("K3qG"),s=n("i8i4"),d=n.n(s);function f(e){var t=e.component,n=e.defaultState,c=e.wrap,s=e.maxInstance,f=e.namespace,m=void 0===f?"RENDER__BOX":f,p=l.a.memo(t,(function(e,t){return e._updateFlag===t._updateFlag})),v=Object(r["createEvent"])(),b={list:[],event:{update:v},defaultState:n,maxInstance:s};function _(e){var t=w(e);t&&t.state.open&&C(t,{open:!1})}function E(e){var t=w(e);t&&(t.state.open||C(t,{open:!0}))}function O(e){var t=I(e);-1!==t&&(b.list.splice(t,1),v.emit())}function g(){b.list=[],v.emit()}function h(e){b.list.forEach((function(t){return C(t,{open:e},!1)})),v.emit()}function j(e){var t=Object(o["b"])(),n=b.maxInstance,a=Object(u["a"])(Object(u["a"])(Object(u["a"])({},b.defaultState),e),{},{open:!0}),l={setState:x.bind(null,t),state:a,hide:_.bind(null,t),show:E.bind(null,t),dispose:O.bind(null,t),current:null};return b.list.push({id:t,state:a,instance:l,updateFlag:0}),n&&b.list.length>n&&b.list.splice(0,1),v.emit(),l}function C(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];Object.assign(e.state,t),e.updateFlag+=1,n&&v.emit()}function x(e,t){var n=I(e);-1!==n&&C(b.list[n],t)}function w(e){return b.list.find((function(t){return t.id===e}))}function I(e){return b.list.findIndex((function(t){return t.id===e}))}function M(){var e=Object(a["useState"])(0),t=Object(i["a"])(e,2),n=t[1];function u(){return b.list.map((function(e){var t=e.id,n=e.instance,a=e.state,i=e.updateFlag;return l.a.createElement(p,{key:t,instance:n,state:a,_updateFlag:i})}))}v.useEvent((function(){n((function(e){return e+1}))}));var r=c?l.a.createElement(c,null,u()):u();return d.a.createPortal(r,Object(o["d"])(m))}return{RenderBoxTarget:M,render:j,hideAll:function(){return h(!1)},showAll:function(){return h(!0)},disposeAll:g,getInstances:function(){return b.list.map((function(e){return e.instance}))},events:b.event,setDefaultState:function(e){return b.defaultState=e},getDefaultState:function(){return b.defaultState},setMaxInstance:function(e){return b.maxInstance=e},getMaxInstance:function(){return b.maxInstance}}}var m=f,p=(n("p21n"),m),v=n("fbdb"),b=n.n(v),_=function(e){var t=e.state,n=e.instance,u=t.open,r=t.title,o=t.content,s=Object(a["useState"])(!1),d=Object(i["a"])(s,2),f=d[0],m=d[1];return Object(a["useEffect"])((function(){m(u)}),[u]),l.a.createElement("div",{className:Object(c["a"])(b.a.MyModal,f?b.a.Open:b.a.Close)},l.a.createElement("div",{className:b.a.Title},l.a.createElement("span",null,r),l.a.createElement("span",{className:b.a.CloseBtn,onClick:n.hide},"close")),l.a.createElement("div",{className:b.a.Content},o))},E=p({component:_}),O=E,g=function(){function e(){O.render({title:"\u8fd9\u662fmodal\u7684\u6807\u9898",content:l.a.createElement("div",null,l.a.createElement("div",null,"\u8fd9\u662fmodel\u7684\u5185\u5bb9"),"\u53ef\u4ee5\u653e\u7f6e",l.a.createElement("strong",null,"\u4efb\u610f"),"\u5185\u5bb9")})}return l.a.createElement("div",null,l.a.createElement(O.RenderBoxTarget,null),l.a.createElement("div",null,l.a.createElement("button",{onClick:e},"show modal"),l.a.createElement("button",{onClick:O.hideAll},"hide all")))};t["default"]=g},p21n:function(e,t){}}]);